<!DOCTYPE html>
<html lang="pt-br" translate="no">
<head>
    <!-- BLOQUEIA GOOGLE TRANSLATE -->
    <meta name="google" content="notranslate">
    <meta name="googlebot" content="notranslate">
    <meta http-equiv="Content-Language" content="pt-br">
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Principal - Sistema</title>
    
    <style>
        /* ESTILOS COMPLETAMENTE EMBUTIDOS */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        body {
            background: #1a237e;
            background: linear-gradient(135deg, #1a237e 0%, #283593 50%, #3949ab 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .user-info {
            font-size: 1.2rem;
            color: #FFD700;
            margin-bottom: 20px;
            font-weight: 600;
        }
        
        .description {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
            max-width: 800px;
            margin: 0 auto 30px;
            line-height: 1.6;
        }
        
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
            cursor: pointer;
            border-top: 5px solid;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
        }
        
        /* Cores diferentes para cada card */
        .card:nth-child(1) { border-color: #FF9800; }
        .card:nth-child(2) { border-color: #4CAF50; }
        .card:nth-child(3) { border-color: #2196F3; }
        .card:nth-child(4) { border-color: #9C27B0; }
        .card:nth-child(5) { border-color: #00BCD4; }
        .card:nth-child(6) { border-color: #FF4081; }
        .card:nth-child(7) { border-color: #2E7D32; }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }
        
        .card-icon {
            font-size: 2.5rem;
            margin-bottom: 20px;
            display: block;
        }
        
        .card h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.4rem;
        }
        
        .card p {
            color: #666;
            font-size: 0.95rem;
            margin-bottom: 20px;
            line-height: 1.5;
            flex-grow: 1;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 30px;
            background: linear-gradient(to right, #6a11cb, #2575fc);
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            width: 90%;
            max-width: 200px;
            margin-top: 10px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(106, 17, 203, 0.3);
        }
        
        .actions {
            text-align: center;
            margin-top: 50px;
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .logout-btn {
            background: linear-gradient(to right, #ff416c, #ff4b2b);
            padding: 14px 35px;
            font-size: 1rem;
        }
        
        .home-btn {
            background: linear-gradient(to right, #2E7D32, #4CAF50);
            padding: 14px 35px;
            font-size: 1rem;
        }
        
        .footer {
            margin-top: 50px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .cards-grid {
                grid-template-columns: 1fr;
                max-width: 400px;
                margin: 0 auto 30px;
            }
            
            .actions {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
        }
        
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .description {
                font-size: 1rem;
            }
            
            .card {
                padding: 20px;
            }
            
            .card h2 {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìä Sistema de Gest√£o</h1>
            <div class="user-info" id="userInfo">Carregando...</div>
            <p class="description">Selecione um m√≥dulo abaixo para acessar as funcionalidades do sistema</p>
        </div>
        
        <div class="cards-grid">
            <div class="card" data-page="pagamento.html">
                <div class="card-icon">üí≥</div>
                <h2>Ordem de Pagamento</h2>
                <p>Gerencie transa√ß√µes financeiras, pagamentos a fornecedores e controle de contas</p>
                <button class="btn">Acessar</button>
            </div>
            
            <div class="card" data-page="painel.html">
                <div class="card-icon">üîß</div>
                <h2>Ordem de Servi√ßo</h2>
                <p>Controle de servi√ßos, agendamentos, t√©cnicos e hist√≥rico de atendimentos</p>
                <button class="btn">Acessar</button>
            </div>
            
            <div class="card" data-page="relatorio.html">
                <div class="card-icon">üìä</div>
                <h2>Relat√≥rios</h2>
                <p>Visualize e exporte relat√≥rios detalhados de todas as opera√ß√µes do sistema</p>
                <button class="btn">Acessar</button>
            </div>
            
            <div class="card" data-page="divulga.html">
                <div class="card-icon">üì¢</div>
                <h2>Divulgador</h2>
                <p>Divulgue arquivos e informa√ß√µes atrav√©s de WhatsApp e outras plataformas</p>
                <button class="btn">Acessar</button>
            </div>
            
            <div class="card" data-page="despesas.html">
                <div class="card-icon">üí∞</div>
                <h2>Despesas</h2>
                <p>Controle de despesas pessoais e empresariais com categoriza√ß√£o detalhada</p>
                <button class="btn">Acessar</button>
            </div>
            
            <div class="card" data-page="inventario.html">
                <div class="card-icon">üì¶</div>
                <h2>Invent√°rio</h2>
                <p>Gest√£o completa de estoque com controle de entrada, sa√≠da e invent√°rio</p>
                <button class="btn">Acessar</button>
            </div>
            
            <div class="card" data-page="financas.html">
                <div class="card-icon">üìà</div>
                <h2>Finan√ßas</h2>
                <p>An√°lise financeira, fluxo de caixa, investimentos e planejamento or√ßament√°rio</p>
                <button class="btn">Acessar</button>
            </div>
        </div>
        
        <div class="actions">
            <button class="btn home-btn" id="homeBtn">üè† P√°gina Inicial</button>
            <button class="btn logout-btn" id="logoutBtn">üö™ Sair do Sistema</button>
        </div>
        
        <div class="footer">
            <p>Sistema de Gest√£o Empresarial ¬© 2024 - Vers√£o 1.0</p>
        </div>
    </div>

    <script>
        // ============================================
        // SISTEMA DO PAINEL PRINCIPAL
        // ============================================
        
        // ============================================
        // VERIFICA√á√ÉO DE LOGIN
        // ============================================
        function checkLogin() {
            try {
                const isLoggedIn = localStorage.getItem('isLoggedIn');
                const userData = JSON.parse(localStorage.getItem('currentUser') || '{}');
                const lastLogin = localStorage.getItem('lastLogin');
                
                // Verificar se todos os dados existem
                if (isLoggedIn !== 'true' || !userData.username || !lastLogin) {
                    return null;
                }
                
                // Verificar se a sess√£o expirou (24 horas)
                const hoursSinceLogin = (Date.now() - parseInt(lastLogin)) / (1000 * 60 * 60);
                if (hoursSinceLogin > 24) {
                    localStorage.removeItem('isLoggedIn');
                    localStorage.removeItem('currentUser');
                    return null;
                }
                
                return userData;
                
            } catch (error) {
                console.error('Erro ao verificar login:', error);
                return null;
            }
        }
        
        // ============================================
        // EXIBIR INFORMA√á√ïES DO USU√ÅRIO
        // ============================================
        function displayUserInfo() {
            const user = checkLogin();
            const userInfoEl = document.getElementById('userInfo');
            
            if (user && user.username) {
                userInfoEl.textContent = `üëã Ol√°, ${user.username}`;
                userInfoEl.style.color = '#FFD700';
                return true;
            } else {
                // Redirecionar para login se n√£o estiver logado
                setTimeout(() => {
                    window.location.href = 'index.html';
                }, 500);
                return false;
            }
        }
        
        // ============================================
        // LOGOUT
        // ============================================
        function logout() {
            if (confirm('Tem certeza que deseja sair do sistema?')) {
                // Limpar dados de sess√£o
                localStorage.removeItem('isLoggedIn');
                localStorage.removeItem('currentUser');
                
                // Redirecionar para login
                window.location.href = 'index.html';
            }
        }
        
        // ============================================
        // NAVEGA√á√ÉO ENTRE P√ÅGINAS
        // ============================================
        function navigateTo(page) {
            // Verificar se est√° logado antes de navegar
            if (!checkLogin()) {
                alert('Sua sess√£o expirou. Fa√ßa login novamente.');
                window.location.href = 'index.html';
                return;
            }
            
            // Simular loading
            const btn = event?.target?.closest('.btn') || event?.target;
            if (btn) {
                const originalText = btn.textContent;
                btn.textContent = 'Carregando...';
                btn.disabled = true;
                
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.disabled = false;
                    window.location.href = page;
                }, 500);
            } else {
                window.location.href = page;
            }
        }
        
        // ============================================
        // BLOQUEAR GOOGLE TRANSLATE
        // ============================================
        function blockGoogleTranslate() {
            // Remover elementos do translate
            const translateElements = document.querySelectorAll('[id*="google"], [class*="translate"], iframe');
            translateElements.forEach(el => {
                if (el.src && el.src.includes('translate')) {
                    el.remove();
                }
            });
            
            // Desativar funcionalidade do translate
            if (window.google && google.translate) {
                google.translate.TranslateElement = null;
            }
        }
        
        // ============================================
        // INICIALIZA√á√ÉO DA P√ÅGINA
        // ============================================
        document.addEventListener('DOMContentLoaded', function() {
            console.log('‚úÖ Painel principal carregado');
            
            // 1. Verificar login
            if (!displayUserInfo()) {
                return;
            }
            
            // 2. Configurar eventos dos cards
            document.querySelectorAll('.card').forEach(card => {
                card.addEventListener('click', function(e) {
                    // Evitar clique no bot√£o (j√° tem evento pr√≥prio)
                    if (!e.target.classList.contains('btn') && !e.target.closest('.btn')) {
                        const page = this.getAttribute('data-page');
                        if (page) {
                            navigateTo(page);
                        }
                    }
                });
            });
            
            // 3. Configurar eventos dos bot√µes dentro dos cards
            document.querySelectorAll('.card .btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const card = this.closest('.card');
                    const page = card.getAttribute('data-page');
                    if (page) {
                        navigateTo(page);
                    }
                });
            });
            
            // 4. Configurar bot√µes de a√ß√£o
            document.getElementById('logoutBtn').addEventListener('click', logout);
            document.getElementById('homeBtn').addEventListener('click', function() {
                navigateTo('index.html');
            });
            
            // 5. Bloquear Google Translate
            blockGoogleTranslate();
            
            // 6. Verificar periodicamente a sess√£o (a cada 5 minutos)
            setInterval(() => {
                if (!checkLogin()) {
                    alert('Sua sess√£o expirou. Redirecionando para login...');
                    window.location.href = 'index.html';
                }
            }, 5 * 60 * 1000); // 5 minutos
            
            console.log('‚úÖ Sistema inicializado com sucesso');
        });
        
        // Bloquear translate tamb√©m no carregamento da p√°gina
        window.addEventListener('load', blockGoogleTranslate);
    </script>
</body>
</html>